---
title: Installation & Setup
---

import { Tabs, Callout } from ':ui';

# Installation & Setup

<Callout type="note">
	**This guide assumes that you are using a [Rollup](https://rollupjs.org/)-
	or [Webpack](https://webpack.js.org/)-based bundler.** The official Thyseus
	transformer is available as a (Vite-compatible) Rollup plugin and a Webpack
	loader. If you'd like support to be added for your bundler of choice, please
	[file a
	ticket](https://github.com/JaimeGensler/thyseus-transformer/issues/new)!
</Callout>

## Package Installation

To get started with Thyseus, install the core library:

{/* prettier-ignore */}
<Tabs items={['pnpm', 'yarn', 'npm']}>
	<Tabs.Panel>
		```sh
		pnpm add thyseus
		```
	</Tabs.Panel>
	<Tabs.Panel>
		```sh
		yarn add thyseus
		```
	</Tabs.Panel>
	<Tabs.Panel>
		```sh
		npm i thyseus
		```
	</Tabs.Panel>
</Tabs>

## Transformer Setup

Thyseus makes use of a code transformer to make your code more performant and to
provide better DX. All docs will assume you're using the transformer - if you're
not, you'll need to
[review the systems docs](/docs/core_concepts/systems#systems-without-the-transformer).

The transformer also requires the use of Typescript; if you don't have
experience with Typescript, it's recommended that you
[get familiar with the basics](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html)
before starting with Thyseus.

Currently, the transformer is available for Rollup and Webpack.

{/* prettier-ignore */}
<Tabs items={['Rollup', 'Vite', 'Webpack']}>
	<Tabs.Panel>
		The Thyseus transformer for Rollup is a plugin. Install:

    	```sh
    	pnpm add typescript @thyseus/transformer-rollup
    	```

    	And configure:

    	```ts filename="rollup.config.js" {1,2,7,8}
    	import thyseusPlugin from 'thyseus-plugin';
    	import typescript from 'rollup-plugin-typescript2';

    	export default {
    		// ...
    		plugins: [
    			thyseusPlugin(),
    			typescript(),
    		],
    	};
    	```

    	Note that `thyseusPlugin()` **must** appear _before_ `typescript()` in order to work, as the plugin transpiles Typescript to Typescript.
    </Tabs.Panel>
    <Tabs.Panel>
    	The Thyseus transformer for Vite is a compatible Rollup plugin. Install:

    	```sh
    	pnpm add typescript @thyseus/transformer-rollup
    	```

    	And configure:

    	```ts filename="vite.config.ts" {2,5}
    	import { defineConfig } from 'vite';
    	import { thyseusPlugin } from '@thyseus/transformer-rollup';

    	export default defineConfig({
    		plugins: [thyseusPlugin()],
    	});
    	```
    </Tabs.Panel>
    <Tabs.Panel>
    	The Thyseus transformer for Webpack is a loader. Install:
    	```sh
    	pnpm add typescript @thyseus/transformer-webpack
    	```

    	And configure:

    	```js filename="webpack.config.js" {11-14}
    	module.exports = {
    		module: {
    			rules: [
    				{
    					test: /\.ts$/,
    					exclude: /node_modules/
    					use: [
    						{
    							loader: 'ts-loader',
    						},
    						{
    							loader: '@thyseus/transformer-webpack',
    						},
    					],
    				},
    			],
    		},
    	};
    	```

    	Note that `@thyseus/transformer-webpack` **must** appear _after_ `ts-loader` in order to work, as the plugin transpiles Typescript to Typescript
    </Tabs.Panel>

</Tabs>

## Typescript Setup

Thyseus currently uses legacy decorators; your `tsconfig.json` must include
`"experimentalDecorators": true`.

### Global Type Setup (optional)

ECS is a data-oriented paradigm and makes heavy use of types. Thyseus provides
two way of accessing its types - direct imports from `'thyseus'`, or a global
type injection. The choice of which to use is entirely up to you!

If you'd like to use global type injection, you can add a `.d.ts` file with the
following:

```ts filename="src/thyseusGlobals.d.ts"
import 'thyseus/types';
```

If you'd rather not, types can simply be imported:

```ts
import type { Query, Res /* ...any types you want */ } from 'thyseus';
```

For the sake of brevity, code snippets in the docs will assume you are using the
global type injection.

## Development vs. production builds

Thyseus uses [`esm-env`](https://github.com/benmccann/esm-env) to determine
whether you're building your app for development or production. Dev builds have
a number of additional correctness checks and validations that help you make
sure your app works correctly and that thrown errors are easily debuggable.
These checks come at the cost of speed, so for production builds these checks
are stripped out. **As long as you're using a modern bundler, this should happen
automatically.**
